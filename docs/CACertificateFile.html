<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<link rel="stylesheet" href="themes/apigen/theme-phpcap/src/resources/style.css">
<link rel="stylesheet" href="themes/apigen/theme-phpcap/src/resources/docstyle.css">
<title>PHPCap Documentation</title>
</head>
<body>
<div id="left">
<div id="menu">
<div id="topmenu">
<span>PHPCap Docs</span> | <a href="api/index.html">PHPCap API</a>
<hr />
</div>
<a href="index.html" title="Overview"><span id="overview">Overview</span></a>
<ul>
<li class="active"><a href="CACertificateFile.html">CA Certificate File</a></li>
<li><a href="DeveloperGuide.html">Developer Guide</a></li>
<li><a href="UserTutorial.html">User Tutorial</a></li>
</ul>
</div>
</div>
<div id="splitter"></div>
<div id="right">
<div id="rightInner">
<div id="content">
<h1>CA Certificate File</h1>
<p>The CA (Certificate Authority) certificate file is needed so that PHPCap can verify that
the REDCap instance it is connecting to is actually the instance that
was specified.</p>
<p>In PHPCap, it is possible to set SSL verification to false, so that
a CA certificate file is not required, however, this is insecure, and
is not recommended. At most, setting SSL verification to false should
only be used for initial testing with non-critical data.</p>
<p>It is possible that your system may already be set up to use a correct CA certificate file.
This can be tested by trying to access a project will SSL verification set to true, but with
no CA certificate file specified, for example:</p>
<div class="description"><pre><code class="language-php"><span class="xlang">&lt;?php</span>

<span class="php-keyword1">require</span>(<span class="php-quote">'PHPCap/autoloader.php'</span>);

<span class="php-var">$apiUrl</span> = <span class="php-quote">''</span>;
<span class="php-var">$apiToken</span> = <span class="php-quote">'1234567890A1234567890B1234567890'</span>;

<span class="php-var">$sslVerify</span> = <span class="php-keyword1">true</span>;
<span class="php-var">$project</span> = RedCapProject(<span class="php-var">$apiUrl</span>, <span class="php-var">$apiToken</span>, <span class="php-var">$sslVerify</span>);
<span class="php-var">$project</span>-&gt;exportProjectInfo();</code></pre></div>
<p>If this works, then that would indicate that your system is already set up with a CA certificate
file. If it fails, and you get an error message about a security certificate, such as</p>
<blockquote>
<p>SSL certificate problem: self signed certificate in certificate chain</p>
</blockquote>
<p>then your system is not already set up.</p>
<h2>Creating a CA Certificate File with Firefox</h2>
<p>To use the Firefox web browser to create a CA (Certificate Authority) certificate file for use with PHPCap, use the following steps:</p>
<ol>
<li>Access your REDCap site with Firefox.</li>
<li>Click on the padlock icon, and then the connection, and then &quot;More Information&quot;.</li>
<li>Click on the &quot;Security&quot; tab, if it is not already selected.<br />
<img src="resources/page-info-security.png" alt="Page Information" />  </li>
<li>Click on the &quot;View Certificate&quot; button</li>
<li>Click on the &quot;Detail&quot; tab of the &quot;Certificate Viewer&quot; dialog.<br />
<img src="resources/certificate-viewer.png" alt="Certificate Viewer" />  </li>
<li>Select the top entry in the &quot;Certificate Hierarchy&quot; box.</li>
<li>Click the &quot;Export...&quot; button.</li>
<li>In the &quot;Save Certificate to File&quot; window that should appear:
<ol>
<li>navigate to where you want to save the file</li>
<li>change the name of the file if you don't want to use the default name</li>
<li>set &quot;Save as type&quot; to &quot;X.509 Certificate (PEM)&quot;</li>
<li>click on the &quot;Save&quot; button.<br />
<img src="resources/save-certificate-to-file.png" alt="Save Certificate to File" />   </li>
</ol></li>
</ol></div>
<div id="footer">
PHPCap documentation
</div>
</div></div>
<script src="api/resources/combined.js"></script>
</body>
</html>
